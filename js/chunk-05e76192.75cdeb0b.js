(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05e76192"],{"0003":function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"f",function(){return l}),n.d(t,"h",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"a",function(){return h}),n.d(t,"b",function(){return f});n("482c");var a=n("3e9f"),r=n.n(a),i=function(e){return new r.a(e)},s=function(e,t,n){return i(e).times(i(t)).div(i(n))};function o(e){return r.a.isBigNumber(e)||(e=new r.a(e)),e.times(100).toString()}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r.a.isBigNumber(e)||(e=new r.a(e)),!isFinite(e)||isNaN(e)?"--":n?e.toFixed(t,r.a.ROUND_DOWN).toString():e.toFixed(t).toString()}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=c(o(e),t,n);return isFinite(a)&&new r.a(a).gt(0)?a:"--"}function l(e,t,n,a){return s(i(e),i(t),i(n)).minus(i(a))}function d(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return i(e).minus(s(i(t).plus(.001),i(n),i(a))).minus(i(r).times(1))}function p(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return i(e).minus(s(i(t),i(n),i(a))).minus(i(r).times(1))}function h(e,t,n){return s(i(n),e,t)}function f(e,t,n,a){for(var r=parseInt(n),o=r;o>0;o--){var c=s(o,e,t).lte(i(a));if(c)return o}for(var u=100;u>0;u--){var l=s(u/100,e,t).lte(i(a));if(l)return u/100}return 0}},"2cbc":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-container"},[n("b-modal",{ref:"modal",staticClass:"bootstrap-modal nopadding",attrs:{title:e.$t("dappsMaker.moveTitle"),"hide-footer":"",centered:""}},[n("div",{staticClass:"modal-content"},[n("p",{staticClass:"top-text"},[e._v("\n        "+e._s(e.$t("dappsMaker.moveNotice"))+"\n      ")]),n("check-box",{on:{changeStatus:e.checkBoxClicked},scopedSlots:e._u([{key:"terms",fn:function(){return[n("p",{staticClass:"checkbox-label"},[e._v("\n            "+e._s(e.$t("dappsMaker.understandAndAgree"))+"\n          ")])]},proxy:!0}])}),n("div",{staticClass:"input-container"},[n("label",[e._v(e._s(e.$t("dappsMaker.moveQuestion")))]),n("div",{staticClass:"input-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}})])]),n("div",[e.destAddressHasProxy?n("div",[n("p",[e._v("\n            "+e._s(e.$t("dappsMaker.proxyAddress",{value:e.destAddressProxy}))+"\n          ")]),e._v("\n          "+e._s(e.$t("dappsMaker.moveWithProxy"))+"\n        ")]):e._e(),e.destAddressHasProxy?e._e():n("div",[e._v("\n          "+e._s(e.$t("dappsMaker.moveWithoutProxy"))+"\n        ")])]),n("div",{staticClass:"buttons"},[n("standard-button",{attrs:{options:e.cancelButton},nativeOn:{click:function(t){return e.closeModal(t)}}}),n("standard-button",{attrs:{options:e.submitButton,"button-disabled":!e.btnActive,"click-function":e.moveCdp}})],1),n("help-center-button")],1)])],1)},r=[],i=(n("cda5"),n("e317"),n("4e11"),n("15f3"),n("d5b1")),s=(n("482c"),n("43ee")),o=n("f83b"),c=n("a8f0"),u=n("76ed"),l=n("e8aa"),d=n("3e9f"),p=n.n(d),h=n("ce96");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach(function(t){Object(s["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var m={components:{"check-box":l["a"],"help-center-button":u["a"],"standard-button":c["a"]},props:{tokensWithBalance:{type:Array,default:function(){return[]}},action:{type:String,default:""},values:{type:Object,default:function(){return{maxPethDraw:"",maxEthDraw:"",maxUsdDraw:"",ethCollateral:"",pethCollateral:"",usdCollateral:"",debtValue:"",maxDai:"",collateralRatio:"",cdpId:""}}},destAddressHasProxy:{type:Boolean,default:!1},destAddressProxy:{type:String,default:""}},data:function(){return{address:"",amountEth:0,amountDai:0,govFee:0,modalDetailInformation:!1,checkBoxChecked:!1,textValues:{},mkrToken:{},cancelButton:{title:"Cancel",buttonStyle:"green-border",noMinWidth:!0},submitButton:{title:"Submit",buttonStyle:"green",noMinWidth:!0,fullWidth:!0}}},computed:v({},Object(o["b"])(["account","gasPrice","web3","network","ens"]),{btnActive:function(){return h["c"].isValidETHAddress(this.address)&&this.checkBoxChecked}}),watch:{address:function(e){h["c"].isValidETHAddress(e)&&this.$emit("checkForProxy",e)}},mounted:function(){var e=this;this.$refs.modal.$on("shown",function(){e.address=""})},methods:{closeCdp:function(){this.activeCdp.closeCdp()},checkBoxClicked:function(){this.checkBoxChecked=!this.checkBoxChecked},displayPercentValue:function(e){return p.a.isBigNumber(e)||(e=new p.a(e)),e.times(100).toString()},displayFixedValue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return p.a.isBigNumber(e)||(e=new p.a(e)),e.toFixed(t,p.a.ROUND_DOWN).toString()},moveCdp:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:h["c"].isValidETHAddress(this.address)&&(this.$emit("moveCdp",this.address),this.closeModal());case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),closeModal:function(){this.$refs.modal.hide()}}},b=m,k=(n("4666"),n("38c4")),g=Object(k["a"])(b,a,r,!1,null,"45205350",null),w=g.exports;n.d(t,"a",function(){return w})},4666:function(e,t,n){"use strict";var a=n("ad87"),r=n.n(a);r.a},"793f":function(e,t,n){"use strict";var a=n("a8a1"),r=n.n(a);r.a},"9fbe":function(e,t,n){},a249:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-container"},[n("b-modal",{ref:"modal",staticClass:"bootstrap-modal nopadding",attrs:{title:e.$t("dappsMaker.closeTitle"),centered:"","hide-footer":""}},[n("swap-widget",{ref:"swapWidget",attrs:{"supplied-from":e.suppliedFrom,"supplied-to":e.suppliedTo,"supplied-to-amount":e.suppliedToAmount,"dest-address":e.account.address}}),n("div",{staticClass:"contents"},[e.enoughMkr?e._e():n("div",{staticClass:"message-container"},[e._v("\n        "+e._s(e.$t("dappsMaker.notEnoughMkrClose"))+"\n      ")]),e.enoughDai?e._e():n("div",{staticClass:"message-container"},[e._v("\n        "+e._s(e.$t("dappsMaker.notEnoughDaiClose"))+"\n      ")]),n("p",{staticClass:"top-text"},[e._v("\n        "+e._s(e.$t("dappsMaker.closingNotice"))+"\n      ")]),n("div",{staticClass:"value-table-container"},[n("div",{staticClass:"value-table mkr-balance"},[n("div",{staticClass:"value-block"},[n("p",[n("b",[e._v(e._s(e.$t("dappsMaker.mkrBalance")))])]),n("p",[n("b",[e._v(e._s(e.mkrBalance)+" MKR")])])]),n("p",{directives:[{name:"show",rawName:"v-show",value:!e.enoughMkr,expression:"!enoughMkr"}],staticClass:"get-mkr",on:{click:function(t){return e.getMkr()}}},[e._v("\n            "+e._s(e.$t("dappsMaker.getMkr"))+"\n          ")])]),n("div",{staticClass:"value-table mkr-balance"},[n("div",{staticClass:"value-block"},[n("p",[n("b",[e._v(e._s(e.$t("dappsMaker.daiBalance")))])]),n("p",[n("b",[e._v(e._s(e.daiBalance)+" DAI")])])]),n("p",{directives:[{name:"show",rawName:"v-show",value:!e.enoughDai,expression:"!enoughDai"}],staticClass:"get-mkr",on:{click:function(t){return e.getDai()}}},[e._v("\n            "+e._s(e.$t("dappsMaker.getDai"))+"\n          ")])]),n("div",{staticClass:"value-table other-values"},[n("div",{staticClass:"value-block"},[n("p",[e._v(e._s(e.$t("dappsMaker.outstandingDai")))]),n("p",[n("b",[e._v(e._s(e.values.debtValue)+" DAI")])])]),n("div",{staticClass:"value-block"},[n("p",[e._v("\n              "+e._s(e.$t("dappsMaker.stabilityFeeInMkr",{value:e.displayFixedValue(e.displayPercentValue(e.values.stabilityFee))}))+"\n            ")]),n("p",[n("b",[e._v(e._s(e.getfeeOwed)+" MKR")])])])])]),n("div",{staticClass:"buttons"},[e.needsDaiApprove?n("div",[n("standard-button",{attrs:{options:e.approveDaiButton},nativeOn:{click:function(t){return e.approveDai(t)}}})],1):e._e(),e.needsMkrApprove?n("div",[n("standard-button",{attrs:{options:e.approveMkrButton},nativeOn:{click:function(t){return e.approveMkr(t)}}})],1):e._e()]),n("div",{staticClass:"buttons"},[n("standard-button",{attrs:{options:e.cancelButton},nativeOn:{click:function(t){return e.closeModal(t)}}}),n("standard-button",{attrs:{options:e.closeButton,"button-disabled":!e.canClose,"click-function":e.closeCdp}})],1),n("help-center-button")],1)],1)],1)},r=[],i=(n("cda5"),n("4e11"),n("5c17"),n("482c"),n("15f3"),n("d5b1")),s=(n("e317"),n("43ee")),o=n("f83b"),c=n("a8f0"),u=n("76ed"),l=n("42ea4"),d=n("3e9f"),p=n.n(d);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach(function(t){Object(s["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var v=function(e){return new p.a(e)},m={components:{"swap-widget":l["a"],"help-center-button":u["a"],"standard-button":c["a"]},props:{tokensWithBalance:{type:Array,default:function(){return[]}},action:{type:String,default:""},values:{type:Object,default:function(){return{maxPethDraw:"",maxEthDraw:"",maxUsdDraw:"",ethCollateral:"",pethCollateral:"",usdCollateral:"",debtValue:"",maxDai:"",collateralRatio:"",cdpId:""}}},makerManager:{type:Object,default:function(){return{}}}},data:function(){return{amount:0,amountEth:0,amountDai:0,govFee:0,closable:!1,modalDetailInformation:!1,textValues:{},mkrToken:{},daiToken:{},approveMkrButton:{title:"Approve Maker",buttonStyle:"green-border",fullWidth:!0,noMinWidth:!0},approveDaiButton:{title:"Approve Dai",buttonStyle:"green-border",fullWidth:!0,noMinWidth:!0},cancelButton:{title:"Cancel",buttonStyle:"green-border",fullWidth:!0,noMinWidth:!0},closeButton:{title:"Close",buttonStyle:"green",fullWidth:!0,noMinWidth:!0},suppliedFrom:{symbol:"ETH",name:"Ethereum"},suppliedTo:{symbol:"MKR",name:"Maker"},suppliedToAmount:0,destAddress:""}},computed:f({},Object(o["b"])(["account","gasPrice","web3","network","ens"]),{getfeeOwed:function(){var e=this.values.governanceFeeOwed;return this.displayFixedValue(e,8)},newCollateralRatio:function(){return this.values?this.values.collatRatio:0},newCollateralRatioSafe:function(){return!this.values||v(this.values.collatRatio).gte(2)},newLiquidationPrice:function(){return this.values?this.values.liquidationPrice:0},mkrBalance:function(){return this.mkrToken?this.mkrToken.balance:0},daiBalance:function(){return this.daiToken?this.daiToken.balance:0},enoughMkr:function(){var e=this.values.governanceFeeOwed;return!!e&&v(this.mkrBalance).minus(e).gte(0)},enoughDai:function(){if(this.values.zeroDebt)return!0;var e=this.values.debtValue;return!!e&&v(this.daiBalance).minus(e).gte(0)},needsDaiApprove:function(){return!(!v(this.values.proxyAllowanceDai).gt(0)||!v(this.values.proxyAllowanceDai).lte(this.values.debtValue))||v(this.values.proxyAllowanceDai).eq(0)},needsMkrApprove:function(){return!(!v(this.values.proxyAllowanceMkr).gt(0)||!v(this.values.proxyAllowanceMkr).lt(this.values.governanceFeeOwed))||v(this.values.proxyAllowanceMkr).eq(0)},canClose:function(){return this.enoughMkr&&this.enoughDai&&!this.needsDaiApprove&&!this.needsMkrApprove}}),watch:{tokensWithBalance:function(){this.getBalances()}},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.destAddress=this.account.address,this.getBalances(),this.$refs.modal.$on("shown",Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.getBalances();case 1:case"end":return e.stop()}},e)})));case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{closeModal:function(){this.$refs.modal.hide()},delayCloseModal:function(){var e=this;setTimeout(function(){e.closeModal()},200)},closeCdp:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.delayCloseModal(),this.$emit("closeCdp");case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),displayPercentValue:function(e){return p.a.isBigNumber(e)||(e=new p.a(e)),e.times(100).toString()},displayFixedValue:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return p.a.isBigNumber(e)||(e=new p.a(e)),e.toFixed(t,p.a.ROUND_DOWN).toString()},maxDai:function(){this.amount=this.values.maxDai},currentDai:function(){this.amount=this.values.debtValue},getBalances:function(){this.mkrToken=this.tokensWithBalance.find(function(e){return"MKR"===e.symbol}),this.daiToken=this.tokensWithBalance.find(function(e){return"DAI"===e.symbol})},getMkr:function(){var e=this,t=this.getfeeOwed;v(this.mkrBalance).lt(t)&&(this.suppliedToAmount=v(t).minus(v(this.mkrBalance)).plus(v(t).times(.01)).toNumber(),v(this.suppliedToAmount).lt(1e-6)&&(this.suppliedToAmount=1e-6),this.suppliedFrom={symbol:"ETH",name:"Ethereum"},this.suppliedTo={symbol:"MKR",name:"Maker"},this.$nextTick(function(){e.$refs.swapWidget.$refs.modal.show()}))},getDai:function(){var e=this,t=this.values.debtValue;v(this.daiBalance).lt(t)&&(this.suppliedToAmount=v(t).minus(v(this.daiBalance)).toNumber(),v(this.suppliedToAmount).lt(1e-6)&&(this.suppliedToAmount=1e-6),this.suppliedFrom={symbol:"ETH",name:"Ethereum"},this.suppliedTo={symbol:"DAI",name:"Dai"},this.$nextTick(function(){e.$refs.swapWidget.$refs.modal.show()}))},approveDai:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$emit("approveDai");case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),approveMkr:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$emit("approveMkr");case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},b=m,k=(n("793f"),n("38c4")),g=Object(k["a"])(b,a,r,!1,null,"691aca22",null),w=g.exports;n.d(t,"a",function(){return w})},a8a1:function(e,t,n){},ad87:function(e,t,n){},b18c:function(e,t,n){"use strict";var a=n("9fbe"),r=n.n(a);r.a},e8aa:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"check-box"},[n("label",{staticClass:"check-box-container"},[n("input",{attrs:{type:"checkbox"},on:{click:e.checkBoxClicked}}),n("span",{staticClass:"checkmark"}),e._t("terms")],2)])},r=[],i={data:function(){return{checkboxChecked:!1}},methods:{checkBoxClicked:function(){this.checkboxChecked=!this.checkboxChecked,this.$emit("changeStatus",this.checkboxChecked)}}},s=i,o=(n("b18c"),n("38c4")),c=Object(o["a"])(s,a,r,!1,null,"3e6e47df",null),u=c.exports;n.d(t,"a",function(){return u})}}]);
//# sourceMappingURL=chunk-05e76192.75cdeb0b.js.map